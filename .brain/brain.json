{
    "meta": {
        "schema_version": "1.1.0",
        "awf_version": "4.0.0",
        "last_updated": "2026-03-02T06:45:00+09:00"
    },
    "project": {
        "name": "DocStudio",
        "type": "web-app",
        "status": "active",
        "description": "B·ªô c√¥ng c·ª• x·ª≠ l√Ω t√†i li·ªáu ƒëa ng√¥n ng·ªØ (VN/EN/JP): t·∫°o ch·ª©ng ch·ªâ, d·ªãch vƒÉn b·∫£n ph√°p l√Ω, x·ª≠ l√Ω PDF, template overlay, Excel mapping, user guide",
        "repo": "https://github.com/bangluutru/docstudio.git",
        "deploy": "Cloudflare Pages"
    },
    "tech_stack": {
        "frontend": {
            "framework": "React 19",
            "bundler": "Vite 7.3",
            "styling": "Vanilla CSS + Inline styles",
            "icons": "lucide-react"
        },
        "libraries": {
            "excel": [
                "exceljs (read/write xlsx, merge cells, formulas)",
                "xlsx (SheetJS - parsing)"
            ],
            "pdf": [
                "pdf-lib (create/edit/merge/split PDF)",
                "pdfjs-dist (render PDF previews)"
            ],
            "markdown": [
                "react-markdown (legal doc rendering)",
                "remark-gfm (GitHub Flavored Markdown)"
            ],
            "drag_drop": [
                "@dnd-kit/core",
                "@dnd-kit/sortable"
            ],
            "other": [
                "react-dom",
                "react-colorful"
            ]
        },
        "deployment": {
            "hosting": "Cloudflare Pages",
            "ci_cd": "GitHub ‚Üí Cloudflare auto-deploy on push to main"
        }
    },
    "architecture": {
        "tabs": [
            {
                "id": 1,
                "name": "Certificate Pages",
                "key": "certificate",
                "icon": "Award + üèÖ",
                "file": "src/App.jsx (inline)",
                "components": [
                    "PageCard.jsx",
                    "CertificatePage.jsx",
                    "PageNavigator.jsx",
                    "ContentLines.jsx",
                    "OverflowWarning.jsx",
                    "DeletePageBtn.jsx",
                    "UndoToast.jsx"
                ],
                "description": "T·∫°o phi·∫øu ch·ª©ng ch·ªâ/ki·ªÉm nghi·ªám t·ª´ JSON, ƒëa ng√¥n ng·ªØ, SVG stamps, multi-page",
                "status": "stable"
            },
            {
                "id": 2,
                "name": "Legal Documents",
                "key": "legal",
                "icon": "Scale + ‚öñÔ∏è",
                "file": "src/components/LegalDocumentView.jsx",
                "description": "D·ªãch thu·∫≠t vƒÉn b·∫£n ph√°p l√Ω, Markdown rendering, citation stripping",
                "status": "stable"
            },
            {
                "id": 3,
                "name": "PDF Splitter",
                "key": "pdf-split",
                "icon": "Scissors + ‚úÇÔ∏è",
                "file": "src/components/PdfSplitterView.jsx",
                "description": "T√°ch trang PDF, ch·ªçn trang, t·∫£i ri√™ng/gh√©p",
                "status": "stable"
            },
            {
                "id": 4,
                "name": "PDF Merger",
                "key": "pdf-merge",
                "icon": "Combine + üìÇ",
                "file": "src/components/PdfMergerView.jsx",
                "description": "Gh√©p nhi·ªÅu file PDF th√†nh 1 file, drag & drop reorder",
                "status": "stable"
            },
            {
                "id": 5,
                "name": "Template Overlay",
                "key": "pdf-overlay",
                "icon": "Printer + üñ®Ô∏è",
                "file": "src/components/TemplateOverlayView.jsx",
                "description": "HTML template + JSON data ‚Üí render preview ‚Üí in PDF",
                "status": "stable"
            },
            {
                "id": 6,
                "name": "Excel Mapping",
                "key": "excelMapping",
                "icon": "FileSpreadsheet + üìä",
                "file": "src/components/ExcelMappingView.jsx",
                "description": "Map ƒë∆°n h√†ng kh√°ch ‚Üî m·∫´u NCC, auto-map, 3-zone edit, formula edit, profile, export",
                "status": "stable"
            },
            {
                "id": 7,
                "name": "User Guide",
                "key": "guide",
                "icon": "BookOpen + üìñ",
                "file": "src/components/UserGuideView.jsx",
                "description": "H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng ƒëa ng√¥n ng·ªØ cho c·∫£ 6 tab, accordion UI",
                "status": "stable"
            }
        ],
        "shared_components": {
            "PromptHelper": "src/components/PromptHelper.jsx ‚Äî Copy-to-clipboard system prompt panel",
            "ZoneEditor": "src/components/ZoneEditor.jsx ‚Äî Editable zone for Excel header/footer"
        },
        "key_files": {
            "app_entry": "src/App.jsx",
            "excel_utils": "src/utils/excel.js",
            "translations": "src/utils/translations.js",
            "lang_helper": "src/utils/lang.js",
            "system_prompts": "src/utils/prompts.js",
            "styles": "src/index.css",
            "print_styles": "src/print.css"
        }
    },
    "knowledge_items": {
        "patterns": [
            "ExcelJS merge: unmerge TR∆Ø·ªöC spliceRows, re-merge SAU write data",
            "ExcelJS cell.value ‚Üí extractCellDisplayValue handles all object types",
            "PromptHelper: shared component for system prompt copy-to-clipboard",
            "Trilingual guide: same data structure for VN/EN/JP with accordion UI"
        ],
        "gotchas": [
            "xlsx-template KH√îNG ch·∫°y trong browser",
            "String(formulaObject) = '[object Object]' ‚Üí extract .formula",
            "Saved profiles cache old zone data ‚Üí sanitize on load",
            "Formula auto-adjustment too fragile ‚Üí give user manual control"
        ],
        "conventions": [
            "System prompts in src/utils/prompts.js as exported constants",
            "Shared components: PromptHelper, ZoneEditor",
            "Tab views are self-contained with own translations",
            "Tab icons: Lucide icon + emoji fallback when collapsed"
        ]
    }
}