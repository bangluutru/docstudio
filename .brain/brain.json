{
    "meta": {
        "schema_version": "1.1.0",
        "awf_version": "4.0.0"
    },
    "project": {
        "name": "DocStudio",
        "type": "Web Application (React/Vite)",
        "status": "Active Development"
    },
    "tech_stack": {
        "frontend": {
            "framework": "React 19 + Vite",
            "styling": "Tailwind CSS",
            "icons": "Lucide React",
            "dnd": "dnd-kit"
        },
        "backend": {},
        "database": {}
    },
    "database_schema": {
        "tables": [],
        "relationships": [],
        "summary": "App hiện tại xử lý dữ liệu JSON truyền vào từ ngoài, chưa kết nối DB trực tiếp."
    },
    "api_endpoints": [],
    "business_rules": [
        "Render documents with 1:1 fidelity for printing/PDF export (In chuẩn như bản mẫu).",
        "Support multi-language content on certificates (Vietnamese, English, Japanese).",
        "Precise positioning for SVG stamps and elements (Các con dấu phải nằm đúng tọa độ tuyệt đối)."
    ],
    "features": [
        "Certificate Rendering: Hiển thị chứng chỉ đa ngôn ngữ với các thông số tùy biến.",
        "Analysis Report Rendering: Render trang báo cáo phân tích chi tiết.",
        "Drag and Drop Content Management: Sắp xếp các thành phần tài liệu.",
        "Dynamic HTML Builder (Tab 5): Hệ thống tạo form in A4 linh hoạt qua chèn code HTML từ AI, tự động map biến `{{...}}` với JSON đa ngôn ngữ."
    ],
    "upcoming_features": [
        {
            "name": "Excel Order Form Mapping",
            "description": "Tự động khớp thông tin từ file đặt hàng khách hàng (Excel) vào file đặt hàng nhà cung cấp (Excel) khi 2 mẫu khác nhau.",
            "solutions_researched": [
                "1. Rule-Based Template Mapping: Cấu hình mapping thủ công từng khách hàng, lưu profile. Chính xác 100%, nhanh, không tốn API.",
                "2. AI Semantic Mapping: Gửi header + sample rows cho Gemini để tự đoán mapping. Linh hoạt nhưng tốn API và có rủi ro nhầm.",
                "3. Hybrid (KHUYẾN NGHỊ): AI đề xuất mapping lần đầu → user duyệt/sửa → lưu thành Rules cứng cho lần sau. Tối ưu cả tốc độ lẫn độ chính xác."
            ],
            "status": "researched_not_implemented"
        }
    ],
    "knowledge_items": {
        "patterns": [
            "SVG-in-table-cell rendering",
            "Coordinate-based stamp positioning",
            "Client-side CSS Print scaling (`contentScale` + Zoom) để nhét vừa khổ A4 mà không vỡ bảng do text dài",
            "Regex-based HTML auto-clippers (Gọt Chiều Cao, Ép Khoảng Trắng) để dọn dẹp Tailwind code từ AI"
        ],
        "gotchas": [
            "Watch out for page overflow when content exceeds page limits (Chú ý lỗi tràn trang khi in)",
            "Không để AI sinh CSS ép cứng chiều cao (như h-64, min-h-[...]) vì sẽ làm layout không co giãn được khi text thay đổi"
        ],
        "conventions": [
            "Tất cả text trên form mẫu do AI sinh phải bọc trong biến (vd: `{{label_name}}`) để đảm bảo chuyển ngữ đổi 100% được bản dịch."
        ]
    }
}